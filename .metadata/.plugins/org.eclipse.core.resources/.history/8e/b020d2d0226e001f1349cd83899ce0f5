#include "bsp_lcd.h"

extern uint8_t motion[5];



void BSP_LCD_Init(BSP_LCD_SetupParams_TypeDef *params){
	I2C_LCD_Init(LCD);
	  while(params->condition()){
		  BSP_LCD_Initializing(params);
		  HAL_Delay(1000);
	  }
}


void BSP_LCD_Clear(){
	I2C_LCD_Clear(LCD);
}

void BSP_LCD_SetCursor(uint8_t col, uint8_t row){
 	I2C_LCD_SetCursor(LCD, col, row);
}

void BSP_LCD_SendMessage(char* message, uint8_t col, uint8_t row, bool clear){
	if(clear){
		BSP_LCD_Clear();
	}
	BSP_LCD_SetCursor(col, row);
 	I2C_LCD_WriteString(LCD, message);

}

void BSP_LCD_Initializing(BSP_LCD_SetupParams_TypeDef *params){

	char time[5];
	I2C_LCD_Clear(LCD);
 	I2C_LCD_SetCursor(LCD, 0, 0);
 	I2C_LCD_WriteString(LCD, "Initializing: ");
 	I2C_LCD_SetCursor(LCD, 0, 1);
 	itoa(params->setup_time - *(params->seconds), time, 10);
 	I2C_LCD_WriteString(LCD, time);
}
void BSP_LCD_MotionDetected(){

	I2C_LCD_Clear(LCD);
	I2C_LCD_SetCursor(LCD, 0, 0);
	I2C_LCD_WriteString(LCD, "Motion detected");

}

void BSP_LCD_NothingHere(){

	I2C_LCD_Clear(LCD);
	I2C_LCD_SetCursor(LCD, 0, 0);
	I2C_LCD_WriteString(LCD, "Nothing here");

}


